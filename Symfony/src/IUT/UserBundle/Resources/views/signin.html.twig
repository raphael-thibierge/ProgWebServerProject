{% extends('IUTappBundle::layout.html.twig') %}

{% block title %}
    Inscription
{% endblock %}

{% block body %}
    <div class="row">
        <div class="com-md-12">

            <div class="row">
                <div class="col-md-12">
                    <h1 class="text-center">Inscription</h1>
                </div>
            </div>

            <div class="row">
                <div class="col-md-8 col-md-offset-2">
                    <div class="well">
                        {{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}

                        {# form errorrs #}
                        {% if form_errors(form) != null %}
                        <div class="row">
                            <div class="col-md-12">
                                <div class="alert alert-danger">
                                    {# TODO - Delete <ul> and <li> generated in errors ! #}
                                    <span>{{ form_errors(form) }}</span>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                        
                        
                        {#  FIRSTNAME  #}
                        {% if (form_errors(form.prenomAbonne)) != null %}
                            {% set error = true %}
                        {% else %}
                            {% set error = false %}
                        {% endif %}
                        <div class="form-group {% if error %} has-error {% endif %} ">


                            {#  Label. #}
                            {{ form_label(form.prenomAbonne, "Prénom", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}



                            {# Input #}
                            <div class="control col-sm-4">
                                {{ form_widget(form.prenomAbonne, {'attr': {'class': 'form-control'}}) }}
                            </div>
                            {# Errors. #}
                            <div class="col-md-5">
                                {{ form_errors(form.prenomAbonne) }}
                            </div>
                        </div>

                        {#  NAME  #}
                        {% if (form_errors(form.nomAbonne)) != null %}
                            {% set error = true %}
                        {% else %}
                            {% set error = false %}
                        {% endif %}
                        <div class="form-group {% if error %} has-error {% endif %}">
                            {#  Label. #}
                            {{ form_label(form.nomAbonne, "Nom", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}


                            {# Input #}
                            <div class="col-sm-4">
                                {{ form_widget(form.nomAbonne, {'attr': {'class': 'form-control'}}) }}
                            </div>
                            <div class="col-md-5">
                                {# Errors. #}
                                {{ form_errors(form.nomAbonne) }}
                            </div>
                        </div>


                        {#  LOGIN  #}
                        {% if (form_errors(form.login)) != null %}
                            {% set error = true %}
                        {% else %}
                            {% set error = false %}
                        {% endif %}
                        <div class="form-group {% if error %} has-error {% endif %}">
                            {#  Label. #}
                            {{ form_label(form.login, "Identifiant", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}

                            {# Input #}
                            <div class="col-sm-4">
                                {{ form_widget(form.login, {'attr': {'class': 'form-control'}}) }}
                            </div>
                            <div class="col-md-5">
                                {# Errors. #}
                                {{ form_errors(form.login) }}
                            </div>
                        </div>

                        {#  PASSWORD  #}
                        {% if (form_errors(form.password)) != null %}
                            {% set error = true %}
                        {% else %}
                            {% set error = false %}
                        {% endif %}
                        <div class="form-group {% if error %} has-error {% endif %}">
                            {#  Label. #}
                            {{ form_label(form.password, "Mot de passe", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}


                            {# Input #}
                            <div class="col-sm-4">
                                {{ form_widget(form.password, {'attr': {'class': 'form-control'}}) }}
                            </div>
                            <div class="col-md-5">
                                {# Errors. #}
                                {{ form_errors(form.password) }}
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-sm-4 col-sm-offset-3">
                                {# Pour le bouton, pas de label ni d'erreur, on affiche juste le widget #}
                                {{ form_widget(form.submit, {'attr': {'class': 'btn btn-primary col-xs-12'}}) }}
                            </div>
                        </div>


                        {# Génération automatique des champs pas encore écrits.
                           Dans cet exemple, ce serait le champ CSRF (géré automatiquement par Symfony !)
                           et tous les champs cachés (type « hidden »). #}
                        {{ form_rest(form) }}

                        {# Fermeture de la balise <form> du formulaire HTML #}
                        {{ form_end(form) }}


                    </div>
                </div>
            </div>


        </div>
    </div>

    {# display error, if there is one #}
    {#{% if error %}
        <div class="alert alert-danger">{{ error.message }}</div>
    {% endif %}#}

    {# Login form #}
    {{ form(form) }}


{% endblock %}

